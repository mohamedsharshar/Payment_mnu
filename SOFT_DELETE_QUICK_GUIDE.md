# ๐ฏ ุฏููู ุงูุงุณุชุฎุฏุงู ุงูุณุฑูุน - Soft Delete

## ูุง ูู Soft Deleteุ

Soft Delete ูู ูุธุงู ูุณูุญ ุจุญุฐู ุงูุณุฌูุงุช ุจุดูู ูุคูุช ุจุฏูุงู ูู ุญุฐููุง ููุงุฆูุงู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช. 
ุนูุฏ ุญุฐู ุณุฌูุ ูุชู ูุถุน timestamp ูู ุนููุฏ `deleted_at` ููุทุ ููุง ูุชูุญ ุงุณุชุฑุฌุงุนู ูุงุญูุงู.

---

## ๐ฑ ูููุณุชุฎุฏููู

### ููู ุชุณุชุฎุฏู ุณูุฉ ุงููุญุฐููุงุชุ

#### 1๏ธโฃ ุญุฐู ุณุฌู
- ุงุฐูุจ ุฅูู ุตูุญุฉ ุงูุทูุงุจ/ุงูููุงุชูุฑ/ุงูุฎุฏูุงุช
- ุงุถุบุท ุนูู ุฒุฑ "ุญุฐู" ๐๏ธ
- **ุงููุชูุฌุฉ:** ุงูุณุฌู ุณููุชูู ูุณูุฉ ุงููุญุฐููุงุช ุชููุงุฆูุงู

#### 2๏ธโฃ ุงููุตูู ูุณูุฉ ุงููุญุฐููุงุช
ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุถุบุท ุนูู:
- ๐๏ธ **ุณูุฉ ุงููุญุฐููุงุช - ุงูุทูุงุจ**
- ๐๏ธ **ุณูุฉ ุงููุญุฐููุงุช - ุงูููุงุชูุฑ**
- ๐๏ธ **ุณูุฉ ุงููุญุฐููุงุช - ุงูุฎุฏูุงุช**
- ๐๏ธ **ุณูุฉ ุงููุญุฐููุงุช - ุงููุณุชุฎุฏููู**

#### 3๏ธโฃ ุงุณุชุฑุฌุงุน ุณุฌู ูุญุฐูู
- ูู ุตูุญุฉ ุณูุฉ ุงููุญุฐููุงุช
- ุงุถุบุท ุนูู ุฒุฑ "ุงุณุชุฑุฌุงุน" โป๏ธ
- **ุงููุชูุฌุฉ:** ุงูุณุฌู ุณูุนูุฏ ููุธููุฑ ูู ุงูููุงุฆู ุงูุนุงุฏูุฉ

#### 4๏ธโฃ ุงูุญุฐู ุงูููุงุฆู โ๏ธ
- ูู ุตูุญุฉ ุณูุฉ ุงููุญุฐููุงุช
- ุงุถุบุท ุนูู ุฒุฑ "ุญุฐู ููุงุฆู" ๐๏ธ
- **ุชุญุฐูุฑ:** ูุง ูููู ุงูุชุฑุงุฌุน ุนู ูุฐุง ุงูุฅุฌุฑุงุก!

---

## ๐ป ูููุทูุฑูู

### ุงูุงุณุชุฎุฏุงู ุงูุจุฑูุฌู

#### ุงูุญุฐู ุงููุคูุช (Soft Delete)
```php
// ุญุฐู ุทุงูุจ - ุณูุฐูุจ ูุณูุฉ ุงููุญุฐููุงุช ุชููุงุฆูุงู
$customer = Customer::find('CODE123');
$customer->delete();
// ุฃู
Customer::where('Code', 'CODE123')->delete();
```

#### ุนุฑุถ ุงูุณุฌูุงุช ุงููุญุฐููุฉ
```php
// ุนุฑุถ ุงูุทูุงุจ ุงููุญุฐูููู ููุท
$trashedCustomers = Customer::onlyTrashed()->get();

// ุนุฑุถ ูุงุชูุฑุฉ ูุญุฏุฏุฉ ูุญุฐููุฉ
$trashedBill = Bill::onlyTrashed()->find(1);

// ุนุฑุถ ุฌููุน ุงูุณุฌูุงุช (ูุญุฐููุฉ ูุบูุฑ ูุญุฐููุฉ)
$allCustomers = Customer::withTrashed()->get();
```

#### ุงุณุชุฑุฌุงุน ุงูุณุฌูุงุช
```php
// ุงุณุชุฑุฌุงุน ุทุงูุจ ูุงุญุฏ
$customer = Customer::onlyTrashed()->where('Code', 'CODE123')->first();
$customer->restore();

// ุงุณุชุฑุฌุงุน ุฌููุน ุงูุทูุงุจ ุงููุญุฐูููู
Customer::onlyTrashed()->restore();

// ุงุณุชุฑุฌุงุน ูุน ุดุฑุท
Customer::onlyTrashed()->where('facultyID', 1)->restore();
```

#### ุงูุญุฐู ุงูููุงุฆู (Force Delete)
```php
// ุญุฐู ููุงุฆู ูุทุงูุจ - ูุง ูููู ุงูุงุณุชุฑุฌุงุน!
$customer = Customer::onlyTrashed()->where('Code', 'CODE123')->first();
$customer->forceDelete();

// ุญุฐู ููุงุฆู ูุฌููุน ุงูุทูุงุจ ุงููุญุฐูููู
Customer::onlyTrashed()->forceDelete();
```

#### ุงูุชุญูู ูู ุญุงูุฉ ุงูุณุฌู
```php
$customer = Customer::withTrashed()->find('CODE123');

if ($customer->trashed()) {
    echo 'ูุฐุง ุงูุทุงูุจ ูุญุฐูู';
} else {
    echo 'ูุฐุง ุงูุทุงูุจ ูุดุท';
}
```

#### ุงูุนูุงูุงุช ูุงูุณุฌูุงุช ุงููุญุฐููุฉ
```php
// ุฌูุจ ุงูููุงุชูุฑ ูุน ุงูุทูุงุจ ุญุชู ูู ูุงููุง ูุญุฐูููู
$bills = Bill::with(['customer' => function ($query) {
    $query->withTrashed();
}])->get();

// ุฌูุจ ููุงุชูุฑ ุงูุทูุงุจ ุงููุญุฐูููู ููุท
$bills = Bill::whereHas('customer', function ($query) {
    $query->onlyTrashed();
})->get();
```

---

## ๐ง Routes ุงููุชุงุญุฉ

### ุตูุญุงุช ุงูุนุฑุถ (GET)
```
GET /admin/restore/customers    - ุนุฑุถ ุงูุทูุงุจ ุงููุญุฐูููู
GET /admin/restore/bills        - ุนุฑุถ ุงูููุงุชูุฑ ุงููุญุฐููุฉ
GET /admin/restore/services     - ุนุฑุถ ุงูุฎุฏูุงุช ุงููุญุฐููุฉ
GET /admin/restore/users        - ุนุฑุถ ุงููุณุชุฎุฏููู ุงููุญุฐูููู
```

### ุงุณุชุฑุฌุงุน (POST)
```
POST /admin/restore/customers/{code}  - ุงุณุชุฑุฌุงุน ุทุงูุจ
POST /admin/restore/bills/{id}        - ุงุณุชุฑุฌุงุน ูุงุชูุฑุฉ
POST /admin/restore/services/{id}     - ุงุณุชุฑุฌุงุน ุฎุฏูุฉ
POST /admin/restore/users/{id}        - ุงุณุชุฑุฌุงุน ูุณุชุฎุฏู
```

### ุญุฐู ููุงุฆู (DELETE)
```
DELETE /admin/restore/customers/{code}  - ุญุฐู ุทุงูุจ ููุงุฆูุงู
DELETE /admin/restore/bills/{id}        - ุญุฐู ูุงุชูุฑุฉ ููุงุฆูุงู
DELETE /admin/restore/services/{id}     - ุญุฐู ุฎุฏูุฉ ููุงุฆูุงู
DELETE /admin/restore/users/{id}        - ุญุฐู ูุณุชุฎุฏู ููุงุฆูุงู
```

---

## โ๏ธ ุงูุชูููู ุงูุชููู

### Models ุงููุณุชุฎุฏูุฉ ููู SoftDeletes
```php
use Illuminate\Database\Eloquent\SoftDeletes;

class Customer extends Model
{
    use SoftDeletes;
}
```

### Migration ููู deleted_at
```php
Schema::table('customers', function (Blueprint $table) {
    $table->softDeletes(); // ูุถูู ุนููุฏ deleted_at
});
```

---

## ๐ ุฃูุซูุฉ ูุชูุฏูุฉ

### ุนูู Bulk Restore
```php
// ุงุณุชุฑุฌุงุน ุฌููุน ุงูุทูุงุจ ุงููุญุฐูููู ูู ูููุฉ ูุนููุฉ
Customer::onlyTrashed()
    ->where('facultyID', 1)
    ->restore();
```

### ุนูู Bulk Force Delete
```php
// ุญุฐู ููุงุฆู ูุฌููุน ุงูููุงุชูุฑ ุงูููุบุงุฉ ูุงููุญุฐููุฉ
Bill::onlyTrashed()
    ->where('BillStatus', 3)
    ->forceDelete();
```

### ุนุฏ ุงูุณุฌูุงุช ุงููุญุฐููุฉ
```php
$trashedCount = Customer::onlyTrashed()->count();
echo "ุนุฏุฏ ุงูุทูุงุจ ุงููุญุฐูููู: {$trashedCount}";
```

### ุงูุจุญุซ ูู ุงูุณุฌูุงุช ุงููุญุฐููุฉ
```php
$results = Customer::onlyTrashed()
    ->where('Name', 'LIKE', '%ูุญูุฏ%')
    ->get();
```

---

## โ๏ธ ุชุญุฐูุฑุงุช ูููุฉ

1. **ุงูุญุฐู ุงูููุงุฆู ูุง ุฑุฌุนุฉ ููู** - ุชุฃูุฏ ูุจู ุงุณุชุฎุฏุงู `forceDelete()`
2. **ุงูุนูุงูุงุช** - ุงูุชุจู ุนูุฏ ุญุฐู ุณุฌูุงุช ููุง ุนูุงูุงุช ูุน ุฌุฏุงูู ุฃุฎุฑู
3. **ุงูุฃุฏุงุก** - ุงูุณุฌูุงุช ุงููุญุฐููุฉ ุชุจูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุคุซุฑ ุนูู ุญุฌููุง
4. **ุงูุตูุงุญูุงุช** - ุชุฃูุฏ ูู ูุฌูุฏ ุตูุงุญูุงุช ููุงุณุจุฉ ููุญุฐู ูุงูุงุณุชุฑุฌุงุน

---

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

### ูุชู ุชุณุชุฎุฏู Soft Deleteุ
โ ุนูุฏูุง ุชุญุชุงุฌ ูุฃุฑุดูุฉ ุงูุจูุงูุงุช  
โ ุนูุฏูุง ุชุญุชุงุฌ ูุฅููุงููุฉ ุงูุชุฑุงุฌุน ุนู ุงูุญุฐู  
โ ูุฃุบุฑุงุถ ุงููุฑุงุฌุนุฉ ูุงูุชุฏููู  
โ ููุงุญุชูุงุธ ุจุณุฌู ูุงูู ููุนูููุงุช  

### ูุชู ุชุณุชุฎุฏู Force Deleteุ
โ ุนูุฏ ุงูุชุฃูุฏ ุงูููุงุฆู ูู ุนุฏู ุงูุญุงุฌุฉ ููุจูุงูุงุช  
โ ูุชูููุฑ ูุณุงุญุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช  
โ ูุญุฐู ุจูุงูุงุช ุญุณุงุณุฉ ููุงุฆูุงู  
โ ูุชูุธูู ุณูุฉ ุงููุญุฐููุงุช ุจุดูู ุฏูุฑู  

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงูุณุฌูุงุช ุงููุญุฐููุฉ ุชุธูุฑ ูู ุงูุงุณุชุนูุงูุงุช ุงูุนุงุฏูุฉ
**ุงูุญู:** ุชุฃูุฏ ูู ุฃู ุงูู Model ูุณุชุฎุฏู `use SoftDeletes;`

### ุงููุดููุฉ: ูุง ูููู ุงุณุชุฑุฌุงุน ุงูุณุฌู
**ุงูุญู:** ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู `onlyTrashed()` ูุจู `restore()`

### ุงููุดููุฉ: ุฎุทุฃ ุนูุฏ ุงูุญุฐู ุงูููุงุฆู
**ุงูุญู:** ุชุฃูุฏ ูู ุญุฐู ุฃู ูุนุงูุฌุฉ ุงูุนูุงูุงุช ุงููุฑุชุจุทุฉ ุฃููุงู

---

**ุชูุช ุฅุถุงูุฉ ุงูููุฒุฉ ุจูุฌุงุญ! โจ**
